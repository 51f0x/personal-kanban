{
    "image": "mcr.microsoft.com/devcontainers/base:ubuntu-24.04",
    "workspaceFolder": "/workspaces/github-com-51f0x-personal-kanban",
    "features": {
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest",
            "dockerDashComposeVersion": "v2"
        },
        "ghcr.io/devcontainers/features/node:1": {
            "version": "lts",
            "npm": true,
            "yarn": false,
            "pnpm": true
        },
        "ghcr.io/devcontainers/features/git:1": {}
    },
    "containerUser": "vscode",
    "remoteUser": "vscode",
    "updateContentCommand": "corepack enable && corepack prepare pnpm@9.11.0 --activate",
    "postCreateCommand": "sudo chown root:docker /var/run/docker.sock || true && sudo chmod 666 /var/run/docker.sock || true && pnpm install",
	"initializeCommand": "docker network create dev_network --driver bridge || true",
	"mounts": [
		"source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
	],
    "runArgs": [
        "--privileged",
        "--add-host=host.docker.internal:host-gateway"
    ],
    "forwardPorts": [
        8081,
        3000,
        9090,
        5432,
        6379,
        1125,
        9000
    ],
    "portsAttributes": {
        "3000": {
            "label": "Web server",
            "onAutoForward": "notify"
        },
        "9090": {
            "label": "Local APIs",
            "onAutoForward": "notify"
        },
        "5432": {
            "label": "Postgres",
            "onAutoForward": "notify"
        },
        "6379": {
            "label": "Redis",
            "onAutoForward": "notify"
        },
        "1125": {
            "label": "MailMock",
            "onAutoForward": "notify"
        },
        "9000": {
            "label": "Minio",
            "onAutoForward": "notify"
        }
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.vscode-typescript-next",
                "dbaeumer.vscode-eslint",
                "biomejs.biome",
                "expo.vscode-expo-tools",
                "github.copilot"
            ],
            "settings": {
                "typescript.tsserver.useSyntaxServer": "auto",
                "typescript.tsdk": "node_modules/typescript/lib",
                "editor.formatOnSave": true
            }
        }
    }
}